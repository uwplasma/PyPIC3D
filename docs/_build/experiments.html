
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Computational Experiments &#8212; PyPIC3D 0.1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Demos" href="demos.html" />
    <link rel="prev" title="Material Surfaces" href="materialsurfaces.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="computational-experiments">
<h1>Computational Experiments<a class="headerlink" href="#computational-experiments" title="Permalink to this headline">¶</a></h1>
<p>PyPIC3D provides a framework for managing and executing computational experiments. The <cite>Experiments</cite> class is designed to execute
individual computational experiments using the <cite>epyc</cite> framework. It provides a structured way to define, run, and analyze experiments.
The <cite>ParameterScan</cite> class is designed to perform parameter scans over a range of values for computational experiments. It leverages the <cite>epyc</cite> framework to systematically vary parameters and collect results.</p>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>To use the ParameterScan class, you need to create an instance of the ParameterScan class and provide the necessary parameters. Here is an example of how you might use the ParameterScan class to perform a parameter scan:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">base_config</span> <span class="o">=</span> <span class="n">toml</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">config_file</span><span class="p">)</span>

<span class="c1"># Define the parameter scan</span>
<span class="n">param_scan</span> <span class="o">=</span> <span class="n">ParameterScan</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;particle_scaling_experiment&quot;</span><span class="p">,</span>
    <span class="n">run_dir</span><span class="o">=</span><span class="s2">&quot;particle_scaling&quot;</span><span class="p">,</span>
    <span class="n">base_config</span><span class="o">=</span><span class="n">base_config</span><span class="p">,</span>
    <span class="n">section</span><span class="o">=</span><span class="s2">&quot;particle1&quot;</span><span class="p">,</span>
    <span class="n">param_name</span><span class="o">=</span><span class="s2">&quot;N_particles&quot;</span><span class="p">,</span>
    <span class="n">param_values</span><span class="o">=</span><span class="p">[</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">5000</span><span class="p">,</span> <span class="mi">10000</span><span class="p">,</span> <span class="mi">50000</span><span class="p">,</span> <span class="mi">100000</span><span class="p">,</span> <span class="mi">500000</span><span class="p">,</span> <span class="mi">1000000</span><span class="p">,</span> <span class="mi">2000000</span><span class="p">,</span> <span class="mi">3000000</span><span class="p">,</span> <span class="mi">4000000</span><span class="p">,</span> <span class="mi">5000000</span><span class="p">,</span> <span class="mi">6000000</span><span class="p">,</span> <span class="mi">7000000</span><span class="p">,</span> <span class="mi">8000000</span><span class="p">,</span> <span class="mi">9000000</span><span class="p">,</span> <span class="mi">10000000</span><span class="p">]</span>
<span class="p">)</span>

<span class="n">parameters</span> <span class="o">=</span> <span class="n">param_scan</span><span class="o">.</span><span class="n">parameters</span><span class="p">()</span>
<span class="n">durations</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">values</span>    <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># Run the experiment</span>
<span class="k">for</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">parameters</span><span class="p">:</span>
    <span class="n">experiment</span> <span class="o">=</span> <span class="n">param_scan</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span>
    <span class="n">results</span> <span class="o">=</span> <span class="n">experiment</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
    <span class="c1"># get the results of the experiment</span>
    <span class="n">durations</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="s2">&quot;duration&quot;</span><span class="p">])</span>
    <span class="c1"># log the time taken for each experiment</span>
    <span class="n">values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="c1"># log the values of the parameter</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;particle_scaling/durations.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">value</span><span class="p">,</span> <span class="n">duration</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">durations</span><span class="p">):</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">duration</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The example above was used to perform a particle scaling experiment with PyPIC3D to analyze
its performance for large numbers of particles. The experiment was conducted on a electron species
contained within a 0.1m x 0.1m x 0.1m domain. The experiment was run on a single node with 1 core.</p>
<a class="reference internal image-reference" href="_images/particle_scaling.png"><img alt="Scaling Plot" class="align-center" src="_images/particle_scaling.png" style="width: 600px;" /></a>
<p>This experiment will be compared to results from OSIRIS, an open source PIC code developed by UCLA.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">PyPIC3D</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="solvers.html">Solvers Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="chargeconservation.html">Charge Conservation Method</a></li>
<li class="toctree-l1"><a class="reference internal" href="yee.html">Yee Grid</a></li>
<li class="toctree-l1"><a class="reference internal" href="particles.html">Particle Species</a></li>
<li class="toctree-l1"><a class="reference internal" href="particles.html#bounded-particles">Bounded Particles</a></li>
<li class="toctree-l1"><a class="reference internal" href="lasers.html">Laser Pulses</a></li>
<li class="toctree-l1"><a class="reference internal" href="materialsurfaces.html">Material Surfaces</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Computational Experiments</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#usage">Usage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="demos.html">Demos</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="materialsurfaces.html" title="previous chapter">Material Surfaces</a></li>
      <li>Next: <a href="demos.html" title="next chapter">Demos</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.3.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/experiments.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>